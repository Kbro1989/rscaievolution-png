name = "rsc-server-do"
main = "dist/worker.js"
compatibility_date = "2024-11-28"

# KV Namespace binding (same as Pages project)
[[kv_namespaces]]
binding = "KV"
id = "f2881801ac59415a86236d0841f27103"

# Durable Object binding
[[durable_objects.bindings]]
name = "RSC_SERVER"
class_name = "RSCServerDO"

[[durable_objects.bindings]]
name = "PLAYER_DO"
class_name = "PlayerDO"

# D1 Binding for Event Sourcing
[[d1_databases]]
binding = "DB"
database_name = "ai-architect-db"
database_id = "e8cea666-e70f-43e4-9a5e-54fd7fc80fa4"

# Durable Object migration
[[migrations]]
tag = "v1"
new_classes = ["RSCServerDO"]

[[migrations]]
tag = "v2"
new_classes = ["PlayerDO"]
